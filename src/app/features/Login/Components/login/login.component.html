<div class="relative min-h-screen flex items-center justify-center bg-gray-100">
  <!-- Imagen de fondo -->
  <div
    class="absolute inset-0 bg-cover bg-center opacity-80 filter blur-sm"
    style="
      background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQWZIbjOt0m0KPIKDGoA-O3JrsZhq97OyNi_Q&s');
    "
  ></div>
  <div class="absolute inset-0 bg-white opacity-50"></div>

  <!-- Contenido del login -->
  <div class="relative bg-white p-8 rounded shadow-md w-96 z-10">
    <h2 class="text-2xl font-bold mb-6 text-center">Iniciar Sesión</h2>
    <form (ngSubmit)="onSubmit()">
      <div class="mb-4">
        <label class="block text-gray-700 mb-2">Correo Electrónico</label>
        <input
          [(ngModel)]="credentials.email"
          name="email"
          type="email"
          class="w-full px-3 py-2 border rounded"
          required
        />
      </div>
      <div class="mb-4">
        <label class="block text-gray-700 mb-2">Contraseña</label>
        <input
          [(ngModel)]="credentials.password"
          name="password"
          type="password"
          class="w-full px-3 py-2 border rounded"
          required
        />
      </div>
      <div *ngIf="errorMessage" class="text-red-500 text-sm mb-4">
        {{ errorMessage }}
      </div>
      <button
        type="submit"
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 w-full rounded transition duration-300"
      >
        Iniciar Sesión
      </button>
    </form>

    <!-- Opciones adicionales -->
    <div class="text-center mt-4">
      <button
        class="text-blue-500 hover:underline"
        (click)="openRegisterModal()"
      >
        Registrarse
      </button>
      <button
        class="text-blue-500 hover:underline ml-4"
        (click)="openForgotPasswordModal()"
      >
        Olvidé mi contraseña
      </button>
    </div>
  </div>

  <!-- Modal de Registro -->
  <div
    *ngIf="isRegisterModalOpen"
    class="fixed inset-0 bg-gray-600 bg-opacity-50 z-20 flex items-center justify-center"
  >
    <div class="bg-white p-6 rounded shadow-lg w-1/3">
      <h2 class="text-xl font-bold mb-4">Registro de Usuario</h2>
      <form (ngSubmit)="registerUser()">
        <div class="mb-4">
          <label class="block text-gray-700">Correo Electrónico</label>
          <input
            [(ngModel)]="registerData.email"
            name="email"
            type="email"
            class="w-full px-3 py-2 border rounded"
            required
          />
        </div>
        <div class="mb-4">
          <label class="block text-gray-700">Nombre</label>
          <input
            [(ngModel)]="registerData.firstName"
            name="firstName"
            type="text"
            class="w-full px-3 py-2 border rounded"
            required
          />
        </div>
        <div class="mb-4">
          <label class="block text-gray-700">Apellido</label>
          <input
            [(ngModel)]="registerData.lastName"
            name="lastName"
            type="text"
            class="w-full px-3 py-2 border rounded"
            required
          />
        </div>
        <div class="mb-4">
          <label class="block text-gray-700">Contraseña</label>
          <input
            [(ngModel)]="registerData.password"
            name="password"
            type="password"
            class="w-full px-3 py-2 border rounded"
            required
          />
        </div>
        <div class="mb-4">
          <label class="block text-gray-700">Teléfono</label>
          <input
            [(ngModel)]="registerData.phone"
            name="phone"
            type="text"
            class="w-full px-3 py-2 border rounded"
            required
          />
        </div>
        <div class="mb-4">
          <label class="block text-gray-700">Rol</label>
          <select
            [(ngModel)]="registerData.roleId"
            name="roleId"
            class="w-full px-3 py-2 border rounded"
            required
          >
            <option [value]="2">Cliente</option>
            <option [value]="3">Vendedor</option>
          </select>
        </div>
        <div class="flex justify-end">
          <button
            type="button"
            class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded mr-2"
            (click)="closeRegisterModal()"
          >
            Cancelar
          </button>
          <button
            type="submit"
            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
          >
            Registrarse
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal de Recuperación de Contraseña -->
  <div
    *ngIf="isForgotPasswordModalOpen"
    class="fixed inset-0 bg-gray-600 bg-opacity-50 z-20 flex items-center justify-center"
  >
    <div class="bg-white p-6 rounded shadow-lg w-1/3">
      <h2 class="text-xl font-bold mb-4">Recuperar Contraseña</h2>
      <form (ngSubmit)="resetPassword()">
        <div class="mb-4">
          <label class="block text-gray-700">Correo Electrónico</label>
          <input
            [(ngModel)]="forgotPasswordData.email"
            name="email"
            type="email"
            class="w-full px-3 py-2 border rounded"
            required
          />
        </div>
        <div class="mb-4">
          <label class="block text-gray-700">Nueva Contraseña</label>
          <input
            [(ngModel)]="forgotPasswordData.newPassword"
            name="newPassword"
            type="password"
            class="w-full px-3 py-2 border rounded"
            required
          />
        </div>
        <div class="flex justify-end">
          <button
            type="button"
            class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded mr-2"
            (click)="closeForgotPasswordModal()"
          >
            Cancelar
          </button>
          <button
            type="submit"
            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
          >
            Restablecer
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
